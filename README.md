# Nix Flake Builder [![built with nix](https://builtwithnix.org/badge.svg)](https://builtwithnix.org)


This script helps you quickly generate a flake.nix file for a custom Nix development environment. You can select packages using a fuzzy search, and the script creates a tailored development shell configuration that works on any supported system.

## What You’ll Need

Before running the script, make sure these tools are installed:

- fzf: For fuzzy package search.
- jq: For processing JSON data.

## How to Use

1. Run the script:
Start the script like this:
```bash
./nix-flake-builder.sh
```
2. Search and Select Packages
Use fuzzy search to find the packages you need. Pick as many as you like.

3. Generate the flake.nix File
Once you’re done, the script creates a flake.nix file in the ~/generated_flake folder.

4. Enter the Development Shell
To use your new setup, go to the folder and run:

```bash
cd ~/generated_flake
nix develop
```
This opens a development shell with all the packages you selected.

## Features

- Cross-System Support: Automatically adapts the `flake.nix` to your system, so it works anywhere Nix is supported.
- Interactive Package Search: Find and select packages easily with fuzzy search.
- Custom Development Shell: The script generates a `flake.nix` with the exact tools you need.
- Clear Process: Colored output makes it easy to follow along.

## Example `flake.nix`
Here’s what a generated flake might look like:
```nix
{
  description = "Custom Nix flake generated by nix-flake-builder";

  inputs = {
    nixpkgs.url = "github:NixOS/nixpkgs/nixos-unstable";
    flake-utils.url = "github:numtide/flake-utils";
  };

  outputs = { self, nixpkgs, flake-utils, ... }:
    flake-utils.lib.eachDefaultSystem (system:
      let
        pkgs = import nixpkgs {
          inherit system;
        };
      in
      {
        devShells.default = pkgs.mkShell {
          buildInputs = with pkgs; [
          nixpkgs.legacyPackages.x86_64-linux.python312Full
          nixpkgs.legacyPackages.x86_64-linux.python312Packages.jupyterlab
          nixpkgs.legacyPackages.x86_64-linux.python312Packages.numpy
          nixpkgs.legacyPackages.x86_64-linux.python312Packages.pandas
          ];

          shellHook = ''
            export PS1="\[\033[1;34m\][nix-dev:\w]$ \[\033[0m\]"
            echo -e "\033[1;32m==> Entering Nix development shell on ''${system}\033[0m"
            echo -e "\033[1;34mPackages available:\033[0m"
            echo ''${buildInputs} | tr ' ' '\n' | sed 's/^/  - /'
          '';
        };
      }
    );
}
```

## License

Licensed under the [MIT LICENSE](LICENSE)